---
title: '前端技术梳理-网络协议'
date: '2021-10-01'
tags: '代理'
quote: '一些外部服务的接口会向我们自己的应用提供的接口发出请求，或是必须是线上服务器调用比如微信的 `jssdk` ，但是我们开发都是在本地完成...'
titlePic: 'http://images.qiyu1205.top/post-mountain.jpg'
---

# 网络协议
## HTTP

 HTTP（超文本传输协议） 是建立在 TCP 上的应用层协议，是单向的短链接。

### 版本

#### http1.0

客户端的每次请求都要求建立一次单独的连接，在处理完本次请求后，就自动释放连接。

#### http1.1

可以在一次连接中处理多个请求，并且多个请求可以重叠进行，不需要等待一个请求结束后再发送下一个请求

#### http2.0

可支持多路复用，一个 tcp 可同时传输多个 http 请求，头部数据还做了压缩

特性： 

1. 内容安全，http2.0 是基于 https 的，天然具有安全特性，通过 http2.0 的特性可以避免单纯使用 https 的性能下降。

2. 二进制格式，http1.x 是基于文本的，http2.0 将所有的传输信息分割为更小的消息和帧，并对他们采用二进制格式编码，基于二进制可以让协议有更多的扩展性，比如引入了帧来传输数据和指令。

3. 多路复用，这个功能相当于是长链接的增强，每个 request 请求可以随机的混杂在一起，接收方可以根据 request 的 id 将 request 再归属到各自不同的服务端请求里面，另外多路复用中也支持了流的优先级，允许客户端告诉服务器哪些内容是更优先级的资源，可以优先传输。

### 常见请求方法

GET

POST

PATCH

DELETE

PUT

OPTIONS

> get 和 post 的区别？

HTTP 常用请求头

Accept 可接受的响应内容类型

TODO

## HTTPS

HTTP 报文是明文传输的，容易被劫持篡改，就有了 TLS（安全传输层协议）所以 HTTPS = HTTP + TLS

HTTPS 和 HTTP 的区别

https 需要ca证书，费用较高

HTTP 是超文本传输协议，HTTPS 是具有安全性的SSL加密传输协议，使用不同的链接方式，端口也不同，一般来说 HTTP 的端口为80，HTTPS 端口为443

HTTP的连接很简单，是无状态的，HTTPS 是由 SSL+HTTP 构建的可加密传输、身份认证的网络协议，比 HTTP 安全

HTTPS 工作原理

客户端在使用 HTTPS 方式与 Web 服务器通信时有以下几个步骤

1. 客户端使用 https url 访问服务器，则要求 web 服务器建立 ssl 链接

2. web 服务器接收到客户端的请求之后，会将网站的证书(证书中包含了公钥)，返回或
   者说传输给客户端。

3. 客户端和 web 服务器端开始协商 SSL 链接的安全等级，也就是加密等级。

4. 客户端浏览器通过双方协商一致的安全等级，建立会话密钥，然后通过网站的公钥来加
   密会话密钥，并传送给网站。

5. web 服务器通过自己的私钥解密出会话密钥

6. web 服务器通过会话密钥加密与客户端之间的通信。

HTTPS 优缺点

优点：

缺点：

## TCP

TCP（传输控制协议） 是传输层协议

三次握手

客户端和服务端都需要直到各自可收发，因此需要三次握手。

四次挥手

## UDP

**UDP（用户数据报协议）** 是无连接的传输协议

特点：不可靠性、高效；

使用场景：直播，实时性很高的游戏，视频通话

TCP 和 UDP 区别

TCP 是面向连接的，UDP 是无连接的，即发送数据前不需要进行连接

TCP 提供可靠的服务。也就是说通过 tcp 连接传输的数据 无差错，无丢失，不重复且按序到达。UDP 尽最大努力交付，即不保证可靠交付。并且因为 tcp 可靠，
面向连接，不会丢失数据因此适合大数据量的交换。

TCP 是面向字节流，UDP 面向报文，并且网络出现拥塞不会使得发送速率降低(因
此会出现丢包，对实时的应用比如 IP 电话和视频会议等)。

TCP 只能是 1 对 1 的，UDP 支持 1 对 1,1 对多

TCP 的首部较大为 20 字节，而 UDP 只有 8 字节。

TCP 是面向连接的可靠性传输，而 UDP 是不可靠的。

## WebSocket